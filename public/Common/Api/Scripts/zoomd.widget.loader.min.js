function initWidget(c,a,d){function b(e){var f=window.module;window.module=undefined;var g=window.define;window.define=undefined;a.loadScript("https://cdnjs.cloudflare.com/ajax/libs/node-uuid/1.4.8/uuid.min.js","uuid",function(){a.generateUuid=window.uuid.noConflict();window.module=f;window.define=g;a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/zoomd.widget.logger"+d.internalConfig.min+".js?ver="+d.internalConfig.widgetVersion,"javascript",function(){Zoomd.Widget.zdlogger=d.zdlogger=(new zdLogger(SUPJQ||c,SUPJQ.extend({},d.internalConfig,d.injectionSettings),a));d.zdlogger.init(function(){d.logEvent=d.zdlogger.logEvent;e&&e()})},function(){return d.internalConfig.optimized&&typeof window.zdLogger!="undefined"})},function(){return d.internalConfig.optimized&&typeof window.uuid!="undefined"})}b(function(){var f=null;var j=false;var O={zoom:-1,width:-1,height:-1};var v=d.injectionSettings.SiteWidth;c.extend(d.injectionSettings,{trigger:"OnClick"});a.isMobileOrTablet=function(){var Y=false;(function(Z){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(Z)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Z.substr(0,4))){Y=true}})(navigator.userAgent||navigator.vendor||window.opera);return Y};var I=function(Y){a.loadStyleSheet(Zoomd.Widget.SU_BaseUrlContentHttp+"Content/4.0/css/zoomd.widget.autoComplete.css?v="+d.internalConfig.widgetVersion,"autoComplete css",function(){a.trace("mini discovery widget css loaded",d.internalConfig.TraceLevel.DEBUG)});a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/zoomd.widget.autoComplete"+d.internalConfig.min+".js?v="+d.internalConfig.widgetVersion,"autoComplete",function(){d.ZdAutoComplete=new zdAutoComplete(c,a,d);Y&&Y()})};var W=function(){if(!d.MiniDiscovery&&d.injectionSettings.MiniDiscoverySettings){a.loadScript("https://fonts.googleapis.com/icon?family=Material+Icons","css",function(){});a.loadStyleSheet(Zoomd.Widget.SU_BaseUrlContentHttp+"content/zoomd.widget.mini.discovery.css?ver="+d.internalConfig.widgetVersion,"css",function(){a.trace("mini discovery widget css loaded",d.internalConfig.TraceLevel.DEBUG)});var Z=function(ab,ac){var ad=null;if(window.jQuery&&window.jQuery.fn.jquery!==window.SUPJQ.fn.jquery){ad=window.jQuery;window.jQuery=window.SUPJQ}a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"/common-scripts/RX2.js?v="+d.internalConfig.thirdPartyVersion,"rx",function(){if(ad!=null){window.jQuery=ad}ab&&ab(ac)})};var aa=function(ab){a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/zoomd.widget.mini.discovery"+d.internalConfig.min+".js?ver="+d.internalConfig.widgetVersion,"MiniDiscovery",function(){ab&&ab()})};var Y=function(){I(function(){if(!d.MiniDiscovery){d.MiniDiscovery=(new miniDiscoveryLoader(c,d,a))}})};if(G()&&R()&&d.injectionSettings.MiniDiscoverySettings&&d.injectionSettings.MiniDiscoverySettings.AutoComplete){c(document).on("zoomdSearch:partiallyLoaded",function(){Z(aa,Y)})}else{aa(function(){if(!d.MiniDiscovery){d.MiniDiscovery=(new miniDiscoveryLoader(c,d,a))}})}}};a.getBrowserIETrident=function(){var Y=navigator.userAgent,Z;var Z=Y.match(/(Trident\/)([\d.]+)(?=;|\))/i);return Z?Z[2]:null};a.getBrowserVersion=function(){if(a.getBrowserName()=="msie"){var Z=parseInt(a.getBrowserIETrident(),10);if(Z>=7){return"11.0"}else{if(Z>=6){return"10.0"}else{if(Z>=5){return"9.0"}else{if(Z>=4){return"8.0"}else{return"7.0"}}}}}else{var ab=navigator.appName,aa=navigator.userAgent,Y;var ac=aa.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(ac&&(Y=aa.match(/version\/([\.\d]+)/i))!=null){ac[2]=Y[1]}ac=ac?[ac[1],ac[2]]:[ab,navigator.appVersion,"-?"];return ac[1]}};a.getElementOffset=function(Y,aa){var Z=d.getInjectionSettings(Y,"offset");var ab=c(Y).offset();if(aa&&c(aa).length>0){Y=aa;ab=c(Y).offset();Z=Z||d.getInjectionSettings(Y,"offset")}if(Z){ab.offsetEndParsedDiff={top:parseInt(ab.top)+parseInt(Z.top),left:parseInt(ab.left)+parseInt(Z.left)};ab.top+=Z.top;ab.left+=Z.left;ab.offsetDiff=Z}else{if(c(Y).is("input[type=text]")||c(Y).is("input[type=search]")){ab.top-=48;ab.left-=22}}return ab};var T=a.getQueryStringParamByName("suloglevel");if(T>=d.internalConfig.TraceLevel.DEBUG&&T<=d.internalConfig.TraceLevel.ERROR){d.internalConfig.traceLevel=T;a.trace("entered initWidget",d.internalConfig.TraceLevel.DEBUG)}d.logEvent("pageView");if(a.IsHiddenCheck()&&!window.informContainer){a.trace("widget is hidden...",d.internalConfig.TraceLevel.WARNING);return}d.injectionSettings.isMobile=false;var r=document.documentElement.clientWidth<=1010;if(r||a.isMobileOrTablet()){d.injectionSettings.isMobile=true}N();d.raiseEvent({event:"zoomdSearch:loading"});if(d.internalConfig.logger!==d.internalConfig.Loggers.Coralogix){a.loadScript("http"+(location.protocol.indexOf("https")===0?"s":"")+"://cloudfront.loggly.com/js/loggly.tracker-2.1.min.js","loggly",function(){window._LTracker=window._LTracker||[];_LTracker.push({logglyKey:d.internalConfig.logglyKey,tag:d.internalConfig.logglyTag})},function(){return d.internalConfig.optimized&&typeof window._LTracker!="undefined"})}function U(ab,Z){var Y=3;switch(ab){case"ERROR":Y=5;break;case"WARNING":Y=4;break;case"DEBUG":Y=1;break}var aa={privateKey:"98d36d56-a8ff-75a6-1fd2-389a76edf768",applicationName:d.internalConfig.environment,subsystemName:"Widget-js",logEntries:[{timestamp:(new Date()).getTime(),severity:Y,text:Z}]};c.ajax({method:"POST",contentType:"application/json",crossDomain:true,url:"https://api.coralogix.com/api/v1/logs",data:JSON.stringify(aa)}).then(function(ac){a.trace("Data Saved: "+ac,d.internalConfig.TraceLevel.DEBUG)})}a.sendLog=function(aa,ab,Z){if(aa){var Y={message:aa,clientId:d.injectionSettings.clientId,environment:d.internalConfig.environment,pageUrl:location.href,userAgent:(navigator.userAgent||navigator.vendor||window.opera||"noAgentFound"),level:ab||"INFO"};if(Z&&typeof(Z)=="object"){Y.params=Z}if(d.internalConfig.logger===d.internalConfig.Loggers.Loggly){_LTracker.push(Y)}else{U(ab,Y);if(d.internalConfig.logger===d.internalConfig.Loggers.Both){_LTracker.push(Y)}}}};var n=a.getQueryStringParamByName("zdq");if(n.length<=0){n=null}var q=i();if(q){S(q)}p();function i(){var Y=d.injectionSettings.PageDiscoverySettings;var ab=c("title").text();if(!Y||!Y.Widgets){return false}var Z=null;for(var aa=0;aa<Y.Widgets.length;aa++){if(Y.Widgets[aa].Type==="PageNotFound"){Z=Y.Widgets[aa];break}}if(!Z){return false}return new RegExp(Z.TitleRegex).test(ab)?Z:false}function S(Y){if(!A()){return}a.loadStyleSheet(Zoomd.Widget.SU_BaseUrlContentHttp+"content/zoomd.widget.404."+(d.injectionSettings.isMobile?"mobile.":"")+"css?ver="+d.internalConfig.widgetVersion,"css",function(){a.trace("discovery widget css loaded",d.internalConfig.TraceLevel.DEBUG)});F(function(){a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zoomd.widget.404"+d.internalConfig.min+".js?ver="+d.internalConfig.widgetVersion,"404",function(){notFoundTypeWidget.init(Y,c,d,a)})})}d.getHighestZindex=function(){return d.injectionSettings.zIndex?d.injectionSettings.zIndex:Math.max(t(),9999)};d.onWidgetReady=function(Z,Y){if(!d.internalConfig.isWidgetReady){if(c.isFunction(Z)){d.internalConfig.doOpenOrSearch=Z}d.widgetReady(J,Y);if(!Y){d.raiseEvent({event:"zoomdSearch:loaded"})}else{d.raiseEvent({event:"zoomdSearch:partiallyLoaded"})}if(n){D(n);n=null}}};if(A()){if(G()){k()}else{if(d.injectionSettings.isMobile){s()}else{h()}}}function A(){var Z=parseInt(document.documentMode,10);d.internalConfig.isIE=a.getBrowserName()=="msie";d.internalConfig.isIE8=d.internalConfig.isIE&&(Z<=8||isNaN(Z));d.internalConfig.isDocumentQuirksMode=d.internalConfig.isIE8&&a.getBrowserVersion()<10;if(d.internalConfig.isIE){var Y=parseInt(a.getBrowserIETrident(),10);if(isNaN(Y)||Y<1){a.trace("Device or browser is not supported",d.internalConfig.TraceLevel.ERROR);return false}}if(d.injectionSettings.Version>=4){var aa=10;if(d.internalConfig.isIE&&a.getBrowserVersion()<aa){d.injectionSettings.Version="3.0"}}return true}var X,P;function F(Y){if(!d.ExternalContentLoader&&!P){P=true;a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/ads.js?ver="+d.internalConfig.widgetVersion,"checkBlock",function(){if(d.ExternalContentLoader&&d.internalConfig.BackedupAdPlacements){d.injectionSettings.AdPlacements=d.internalConfig.BackedupAdPlacements;d.ExternalContentLoader=new externalContentLoader(c,c.extend({},d.internalConfig,d.injectionSettings),d,a)}else{a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zoomd.widget.externalcontent.loader"+d.internalConfig.min+".js?ver="+d.internalConfig.widgetVersion,"externalContentLoader",function(){if(d.internalConfig.BackedupAdPlacements){d.injectionSettings.AdPlacements=d.internalConfig.BackedupAdPlacements}d.ExternalContentLoader=new externalContentLoader(c,c.extend({},d.internalConfig,d.injectionSettings),d,a);if(c.isFunction(Y)){Y()}})}});X=Y;setTimeout(function(){if(!d.ExternalContentLoader&&!d.internalConfig.BackedupAdPlacements){if(!document.getElementById("uciBzQikOFeX")){if(d.injectionSettings.AdPlacementsWhenBlocked){d.internalConfig.BackedupAdPlacements=d.injectionSettings.AdPlacements;d.injectionSettings.AdPlacements=d.injectionSettings.AdPlacementsWhenBlocked;a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zoomd.widget.externalcontent.loader"+d.internalConfig.min+".js?ver="+d.internalConfig.widgetVersion,"externalContentLoader",function(){d.ExternalContentLoader=new externalContentLoader(c,c.extend({},d.internalConfig,d.injectionSettings),d,a);if(c.isFunction(X)){X();X=null}})}else{d.ExternalContentLoader={load:function(){var Z=[];return Z}};if(c.isFunction(X)){X();X=null}}}}},100)}else{if(c.isFunction(Y)){Y()}}}function k(){if(!R()){return}var Z="content/"+d.injectionSettings.Version+"/";var Y=Zoomd.Widget.SU_BaseUrlContentHttp+Z;a.loadScript("//fonts.googleapis.com/css?family=Open+Sans","css",null,function(){return d.internalConfig.optimized});a.loadScript("//fonts.googleapis.com/icon?family=Material+Icons","css",null,function(){return d.internalConfig.optimized});var ab=window.define;window.define=null;a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/masonry.pkgd.min.js?v="+d.internalConfig.thirdPartyVersion,"",function(){window.define=ab},function(){return d.internalConfig.optimized&&typeof jQuery.fn.masonry!="undefined"});F(W);C(function(){if(d.injectionSettings&&d.injectionSettings.Version4Settings&&d.injectionSettings.isMobile&&!!d.injectionSettings.Version4Settings.AdvancedSearch){SUPJQ('<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">').prependTo(SUPJQ("html > head"))}L();aa(function(){try{"test".startWith("test")}catch(ad){String.prototype.startsWith=function(ae){return this.indexOf(ae)===0}}var ac=function(){a.loadScript(Y+"js/prefetch.js?v="+d.internalConfig.widgetVersion,"vendor",function(){a.loadScript(Y+"js/vendor.js?v="+d.internalConfig.vendorVersion,"vendor",function(){if(!c.fn.masonry&&jQuery.fn.masonry){c.fn.masonry=jQuery.fn.masonry}window.zoomdExports.initZoomdApplication(Zoomd.Widget.SU_BaseUrlContentHttp,Zoomd.Widget.SU_BaseUrlServiceHttp,d,c,a);if(a.getQueryStringParamByName("baseUrl")&&c('base:not([href*="'+location.host+'"])').length>=1){c('base:not([href*="'+location.host+'"])').remove()}var ae=d.injectionSettings.Version4Settings&&d.injectionSettings.Version4Settings.LazyLoading;a.loadScript(Y+"js/app.js?v="+d.internalConfig.widgetVersion,"app",function(){if(ae){d.onWidgetReady(function(af){if(!d.internalConfig.wasBootstrap){window.zoomdExports.bootstrapZoomdApplication(af?af:"");d.internalConfig.wasBootstrap=true}else{Zoomd.Widget.SearchOrOpen(13,af)}},true)}else{window.zoomdExports.bootstrapZoomdApplication();d.internalConfig.wasBootstrap=true}})},function(){return d.internalConfig.optimized})},function(){return d.internalConfig.optimized&&window.zoomdExports&&typeof window.zoomdExports.initZoomdApplication!="undefined"})};if(d.injectionSettings.Version4Settings&&d.injectionSettings.Version4Settings.AutoComplete>0&&!(d.injectionSettings.MiniDiscoverySettings&&d.injectionSettings.MiniDiscoverySettings.AutoComplete>0)){I(ac)}else{ac()}})});function aa(af){var ac="http"+(location.protocol.indexOf("https")===0?"s":"");var ad=2;var ae=function(){ad=ad-1;if(ad===0){af()}};a.loadScript(ac+"://cdn.polyfill.io/v2/polyfill.min.js?features=Intl.~locale."+(d.injectionSettings.Language||"en").substring(0,2),"intl",ae,function(){return window.Intl});a.loadScript(ac+"://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.min.js","core-js",function(){var ag=-1;if(typeof window.exports!="object"){ag=window.exports;window.exports={}}var ah=-1;if(typeof window.module==="undefined"){ah=window.module;window.module=""}a.loadScript(ac+"://cdnjs.cloudflare.com/ajax/libs/zone.js/0.8.18/zone.min.js","zone",function(){if(ag!==-1){window.exports=ag}if(ah!==-1){window.module=ah}ae()},function(){return d.internalConfig.optimized&&typeof window.Zone!="undefined"})},function(){return window.Promise&&window.Symbol&&window.Reflect&&window.Reflect.getMetadata})}}function R(){var Y=location.host+location.pathname;var Z=d.injectionSettings.Version4Settings&&d.injectionSettings.Version4Settings.SearchPageUrl&&d.injectionSettings.Version4Settings.SearchPageUrl.replace(/^https?:\/\//,"");if(Z&&Y.indexOf(Z)<0){return false}return true}function G(){if(parseInt(d.injectionSettings.Version,10)>=4){if(!R()){var Y=d.injectionSettings.Version4Settings&&d.injectionSettings.Version4Settings.SearchPageUrl&&d.injectionSettings.Version4Settings.SearchPageUrl.replace(/^https?:\/\//,"");Zoomd.searchPageRedirectUrl=location.protocol+"//"+Y;d.onWidgetReady(function(Z){var aa=location.search+"#/search;skipAnimation=true;";if(Z){aa+="query="+Z}location.href=Zoomd.searchPageRedirectUrl+aa})}return true}else{return false}}function L(){var Y=c("<zoomd-widget-root></zoomd-widget-root>");c("body").append(Y)}function p(){if(d.injectionSettings.InjectActionsToClient&&d.injectionSettings.InjectPattern&&new RegExp(d.injectionSettings.InjectPattern).test(document.URL)){a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/su_w_ts_m"+d.internalConfig.min+".js?ver="+d.internalConfig.widgetVersion,"su_w_ts_m",function(){window.initTS(d)});Zoomd.Widget.UserOptions.coming_from_mobile=d.injectionSettings.isMobile}}function s(){var Y=Zoomd.Widget.SU_BaseUrlContentHttp+"/zd-mobile/src/";a.loadScript("https://fonts.googleapis.com/icon?family=Material+Icons","css",function(){});if(d.internalConfig.newMobileUi){a.loadScript(d.internalConfig.mobileBaseUrl+"injector.js","mobileJs",function(){if(c.isFunction(window.initWidgetUI)){initWidgetUI(c,a,d)}})}else{a.loadScript(Y+"/css/rumble_mobile_widget.css?v="+d.internalConfig.widgetVersion,"css",function(){});a.loadScript(Y+"/js/RX2.min.js?v=1","rx",function(){a.loadScript("http://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js","masonry",function(){window.zdClientId=d.injectionSettings.clientId;d.internalConfig.platform=d.injectionSettings.Platform;a.loadScript(Y+"/js/mobile_widget"+d.internalConfig.min+".js?v="+d.internalConfig.widgetVersion,"mobileJS",function(){mWidgetInit(c,d);d.onWidgetReady(function(Z){c("#widget_shadow").addClass("zindexcl");c("#widget_outer").addClass("zindexcl");mWidget.openWidget(Z,true,"onPageElementTrigger")})})})})}}function h(){if(!A()){return}a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"content/su_w_s_loading.css?ver="+d.internalConfig.widgetVersion,"css",function(){a.trace("css loaded",d.internalConfig.TraceLevel.DEBUG)});a.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"common-scripts/jquery.tabbable.min.js","JQueryTab",function(){initTabPlugin(c)});if(d.injectionSettings&&d.injectionSettings.AdPlacements&&(d.injectionSettings.AdPlacements.indexOf("Desktop-Left")>=0||d.injectionSettings.AdPlacements.indexOf("Desktop-Right")>=0||d.injectionSettings.AdPlacements.indexOf("MD")>=0)){F(W)}C(V)}function C(Y){if(c("body").length>0){if(c.isFunction(Y)){Y()}}else{setTimeout(C,100,Y)}}function V(){var Z=c('<div id="iframe_container" class="su_w_s_hidden" title="Zoomd Search & Discover" style="filter:chromacolor=#F5FAFD; width:0; height:0; position:absolute; left: 50%; z-index:99999; overflow:hidden; scroll:noscroll;"></div>');c("body").append(Z);c("#iframe_container").prepend(c('<a id="sup_focus_trapper" href="#" style="position:absolute;top:-5000px;opacity:0;">Open Search</a>'));c("#sup_focus_trapper").bind("focus",function(aa){if(f!=null){a.trace("sup_focus_trapper focus",d.internalConfig.TraceLevel.DEBUG);aa.preventDefault();c("#sup_focus_trapper").attr("tabindex",-1);c("#su_w_last_element").attr("tabindex","");f.postMessage("hoverInWidget",Zoomd.Widget.SU_BaseUrlServiceHttp)}});c("#iframe_container").append(c('<a id="su_w_last_element" href="#" style="position:absolute;top:-5000px;opacity:0;">Close Search</a>'));c("#su_w_last_element").bind("focus",function(aa){E(false);if(f!=null){a.trace("su_w_last_element focus",d.internalConfig.TraceLevel.DEBUG);aa.preventDefault();c("#su_w_last_element").attr("tabindex",-1);c("#sup_focus_trapper").attr("tabindex","");f.postMessage("parentMinimizeWidget",Zoomd.Widget.SU_BaseUrlServiceHttp)}});var Y=Zoomd.Widget.SU_BaseUrlServiceHttp+"zoomd/SearchUi/?clientId="+d.injectionSettings.clientId+"&baseVersion="+(d.injectionSettings.Version||d.internalConfig.baseVersion)+"&ver="+d.internalConfig.widgetVersion+"&venVer="+d.internalConfig.thirdPartyVersion+"&min="+d.internalConfig.min+"&documentSrc="+document.origin+"&contentSource="+Zoomd.Widget.SU_BaseUrlContentHttp+"&environment="+d.internalConfig.environment+"&os="+encodeURIComponent(JSON.stringify({CustomInitHtmlCssFile:"custom_invisible"}));if(d.injectionSettings.Platform){Y+="&platform="+d.injectionSettings.Platform}c("#iframe_container").append('<iframe id="su_iframe" src="'+Y+'" frameborder="0" width="100%" height="100%"></iframe>');c("#su_iframe").on("load",function(){f=this.contentWindow});if(window.addEventListener){window.addEventListener("message",function(aa){K(aa)})}else{window.attachEvent("onmessage",function(aa){K(aa)})}Q();z()}function K(ad){var ae=ad.origin;var ah=ad.data;if((ae!==Zoomd.Widget.SU_BaseUrlServiceHttp&&(ae+"/")!==Zoomd.Widget.SU_BaseUrlServiceHttp)||!ah){return}a.trace("parent message:'"+ah+"' from: '"+ae+"'",d.internalConfig.TraceLevel.DEBUG);if(ah.indexOf("SetSize")==0||ah.indexOf("SetInitialSize")==0){if(d.internalConfig.curState==="opening"){d.internalConfig.curState="opened"}M(ah);return}if(ah.indexOf("event")==0){try{var af=JSON.parse(ah.substring(5));d.raiseEvent(af)}catch(ad){}}switch(ah){case"destroyLoading":var ac=new Date().getTime()-d.internalConfig.WidgetStartLoadTime;c("#iframe_container.su_w_s_hidden").removeClass("su_w_s_hidden");if(d.injectionSettings.LightBox){var ag=d.injectionSettings.zIndex?d.injectionSettings.zIndex:Math.max(t(),9999);var Z;if(d.internalConfig.isIE8||d.internalConfig.isDocumentQuirksMode){Z="position: absolute; width:1px; height:1px; overflow:hidden;";setTimeout(function(){H()},500);c(window).on("resize",function(ai){H()})}else{Z="position: fixed; width:100%; height:100%;"}c("#iframe_container").before('<div id="su_host_overlay" style="'+Z+" display:none; top:0px; left:0px; opacity:0.5; filter:alpha(opacity=50); background-color:black; z-index:"+(ag+1)+'"></div>');c("#iframe_container").css("z-index",(ag+2))}if(f==null){f=SUPJQ("#su_iframe")[0].contentWindow}if(f){var ab=c("[lang]").attr("lang");if(!ab||(ab&&ab.length<=0)){ab="default"}var aa=document.referrer;if(!aa||(aa&&aa.length<=0)){aa="none"}f.postMessage("setTitle^"+document.title+"^"+ac+"^"+d.internalConfig.widgetVersion+"^"+ab+"^"+aa,Zoomd.Widget.SU_BaseUrlServiceHttp);c("#su_w_s_floatingCTA").show();var Y=a.getQueryStringParamByName("supq");if(typeof(Y)!="undefined"&&Y.length>0){f.postMessage("search:"+Y,Zoomd.Widget.SU_BaseUrlServiceHttp)}}else{f=null}d.internalConfig.curState="ready";c("#iframe_container").addClass("activated");d.onWidgetReady();break;case"collapseV3":E(false);if(typeof(c("#iframe_container").data("marginLeft-origin"))!="undefined"){a.trace("back widget to initial place margin-left: "+c("#iframe_container").data("marginLeft-origin"),d.internalConfig.TraceLevel.DEBUG);c("#iframe_container").stop(true,false).css("margin-left",parseInt(c("#iframe_container").data("marginLeft-origin"),10))}if(typeof(c("#iframe_container").data("marginRight-origin"))!="undefined"){a.trace("back widget to initial place margin-right: "+c("#iframe_container").data("marginRight-origin"),d.internalConfig.TraceLevel.DEBUG);c("#iframe_container").stop(true,false).css("margin-right",parseInt(c("#iframe_container").data("marginRight-origin"),10))}if(typeof(c("#iframe_container").data("marginTop-origin"))!="undefined"){a.trace("back widget to initial place margin-top: "+c("#iframe_container").data("marginTop-origin"),d.internalConfig.TraceLevel.DEBUG);c("#iframe_container").stop(true,false).css("margin-top",parseInt(c("#iframe_container").data("marginTop-origin"),10))}g(-1,-1,100);c("#sup_focus_trapper").attr("tabindex","");c("#su_w_last_element").attr("tabindex","");d.internalConfig.curState="ready";break;case"kill":c("#iframe_container").remove();f=null;d.internalConfig.curState="";break;case"showOverlayV3":E(true);j=true;break;case"hideOverlayV3":E(false);break}}function H(){var Y=Math.max(document.body.scrollWidth,c(window).width());var Z=Math.max(document.body.scrollHeight,O.height);c("#su_host_overlay").width(Y).height(Z)}function t(){if(d.internalConfig.IsIE8){return 2147483640}var ab=document.querySelectorAll("*")||oXmlDom.documentElement.selectNodes("*");var ad,ac,Y=ab.length,aa=[];for(var Z=0;Z<Y;Z+=1){if(ab[Z].style){ad=ab[Z].style.zIndex;ac=ab[Z].style.position;if(ad&&ac!="static"){aa.push(parseInt(ad,10))}else{var ae=window.getComputedStyle(ab[Z],null);ad=ae.getPropertyValue("z-index");ac=ae.getPropertyValue("position");if(ad!="auto"&&ac!=="static"){aa.push(parseInt(ad,10))}}}}return aa.length?Math.max.apply(null,aa):1}var x=false;function y(Y,ac,ad,Z){if(c.isArray(Y)){var ab="";var aa="";c.each(Y,function(af,ae){aa=(c(window).height()-parseInt(ae.settings.height))/2;if(ad<parseInt(ae.settings.width)){if(c("#"+ae.settings.id)[0]){c("#"+ae.settings.id).remove()}return true}ab="width:"+parseInt(ae.settings.width)+"px;height:"+parseInt(ae.settings.height)+"px;position:absolute;overflow: hidden;";if(Y.length==2){aa=(c(window).height()/2)-parseInt(ae.settings.height)}if(af==1){aa+=parseInt(ae.settings.height)+10}if(ac){ab+="left:"+((ad-parseInt(ae.settings.width))/2)+"px;top:"+aa+"px;"}else{ab+="right:"+((ad-parseInt(ae.settings.width))/2)+"px;top:"+aa+"px"}if(Z){c("#"+ae.settings.id).attr("style",ab)}else{c(ae.html).appendTo(c("#su_host_overlay_top")).attr("style",ab)}})}}var u;var B;function l(){if(d.ExternalContentLoader&&j){var aa=SUPJQ("#iframe_container");var ab=aa.offset().left;var Z=(c(window).width()-(ab+aa.outerWidth()));if(x){u=d.ExternalContentLoader.load("Desktop-Left",{posibleWidth:ab});B=d.ExternalContentLoader.load("Desktop-Right",{posibleWidth:Z});if((u.length>0||B.length>0)){if(c("#su_host_overlay_top").length<=0){var Y=c("#su_host_overlay").css("z-index");c("#su_host_overlay").after('<div id="su_host_overlay_top" style="position:fixed;left:0;top:0;right:0;bottom:0;z-index:'+(Y)+';"></div>')}if(d.injectionSettings&&d.injectionSettings.OverlayOpacity){c("#su_host_overlay").css({filter:"alpha(opacity="+(d.injectionSettings.OverlayOpacity*100)+")",opacity:d.injectionSettings.OverlayOpacity})}else{c("#su_host_overlay").css({filter:"alpha(opacity=75)",opacity:"0.75"})}}c("#su_host_overlay_top").html("");y(u,true,ab);y(B,false,Z);x=false}else{y(u,true,ab,true);y(B,false,Z,true)}j=false}}function M(aa){var ac=aa.split(",");var Z=220;if(ac[0]=="SetSize"){Z=parseInt(ac[1])}var Y=parseInt(ac[2]);var ab=parseInt(ac[3]);g(Z,Y+14,ab)}function g(Z,ak,ab){try{var ai=5;if(O.height<=0){O.height=(Math.min(document.documentElement.clientHeight,window.innerHeight||10000)-10)}if(Z<c(window).width()&&O.height<c(document).height()){ai+=5}if(typeof(d.injectionSettings.SiteWidth)=="number"){if(Z>d.injectionSettings.SiteWidth){v=Z}if(c(window).width()>v){ai=(c(window).width()-v)/2}}var af={};c("#iframe_container").show();if(Z>0&&ak>0){if(Z<10){c("#iframe_container").hide()}var ad=c("#iframe_container").width();var aj=c("#iframe_container").height();Z=c("#iframe_container").width(Z).width();ak=c("#iframe_container").height(ak).height();c("#iframe_container").width(ad);c("#iframe_container").height(aj);af={width:Z,height:ak}}else{c("#iframe_container").stop(true,true);Z=c("#iframe_container").width();ak=c("#iframe_container").height()}if(typeof ab=="undefined"||isNaN(ab)){ab=300}a.trace("width : "+Z+" height : "+ak+" iframe_container left:"+c("#iframe_container").position().left+" marginLeft="+c("#iframe_container").css("marginLeft")+" marginRight="+c("#iframe_container").css("marginRight")+" marginTop="+c("#iframe_container").css("marginTop"),d.internalConfig.TraceLevel.DEBUG);if(c(window).width()>0){var ac=0;var aa=NaN;ac=parseInt(c("#iframe_container").css("marginRight").replace("px"),10);if(ac==0||isNaN(ac)){aa=c("#iframe_container").offset().left;if((c(window).width())<(aa+Z+ai)){c.extend(af,{marginLeft:"-="+((aa+Z+ai)-c(window).width())})}else{if(aa<ai){c.extend(af,{marginLeft:"+="+(ai-aa)})}}}else{aa=c(window).width()-(c(window).width()/2+ac+Z);if(!isNaN(aa)){if((c(window).width())<(aa+Z+ai)){c.extend(af,{marginRight:"+="+((aa+Z+ai)-c(window).width())})}else{if(aa<ai){c.extend(af,{marginRight:"-="+(ai-aa)})}}}}}if(O.height>0){var Y=5;var ah=c("#iframe_container").offset().top-c(window).scrollTop();if(O.height<ak+ah+Y){var ae=O.height-ak-Y-ah;if(ae+ah<Y){ae=Y-ah}c.extend(af,{marginTop:"+="+ae})}}c("#iframe_container").stop(true,false).animate(af,ab,function(){if(typeof(c("#iframe_container").data("marginLeft-origin"))=="undefined"){c("#iframe_container").data("marginLeft-origin",c("#iframe_container").css("margin-left").replace("px",""))}if(typeof(c("#iframe_container").data("marginRight-origin"))=="undefined"){c("#iframe_container").data("marginRight-origin",c("#iframe_container").css("margin-right").replace("px",""))}if(typeof(c("#iframe_container").data("marginTop-origin"))=="undefined"){c("#iframe_container").data("marginTop-origin",c("#iframe_container").css("margin-top").replace("px",""))}a.trace("Moving finished",d.internalConfig.TraceLevel.DEBUG);a.trace(JSON.stringify(af));a.trace("width : "+Z+" height : "+ak+" iframe_container left:"+c("#iframe_container").position().left+" marginLeft="+c("#iframe_container").css("marginLeft")+" marginRight="+c("#iframe_container").css("marginRight")+" marginTop="+c("#iframe_container").css("marginTop"),d.internalConfig.TraceLevel.DEBUG);l()})}catch(ag){a.trace("Moving failed - "+ag,d.internalConfig.TraceLevel.DEBUG)}}function z(){if(!d.internalConfig.isIE||document.documentMode>=7){setTimeout(function(){c(window).trigger("resize")},3000);c(window).on("resize load",function(ab){var aa=a.getZoom();var Z=(Math.max(document.documentElement.clientWidth,window.innerWidth||0)-10);if(Z!=O.width){g(-1,-1,200)}var Y=(Math.min(document.documentElement.clientHeight,window.innerHeight||10000)-10);if(Z!=O.width||aa!=O.zoom||Y!=O.height){O.width=Z;O.zoom=aa;O.height=Y;if(f!=null){f.postMessage("zoom:"+aa+"^"+Z+"^"+(Y-c("#iframe_container").position().top),Zoomd.Widget.SU_BaseUrlServiceHttp)}}})}}function Q(){c(document).ready(function(){o(true);N()})}function N(){window.onbeforeunload=function(Y){d.logEvent("leavePage");if(window.appInsights&&c.isFunction(window.appInsights.trackEvent)){window.appInsights.trackEvent("leavePage")}}}function o(Z){var Y="click";if(c("body").height()==0){Y+="mousedown"}if(Z){c(document).on(Y,e)}else{c(document).off(Y,e)}}function e(Z){a.trace("onDocumentClick",d.internalConfig.TraceLevel.DEBUG);var Y=document.elementFromPoint(Z.clientX,Z.clientY);if(Y!==c("#iframe_container")[0]&&d.internalConfig.curState==="opened"){o(false);E(false);if(f!=null){setTimeout(function(){f.postMessage("parentMinimizeWidget",Zoomd.Widget.SU_BaseUrlServiceHttp);o(true)},100)}}else{a.trace("skip minimize",d.internalConfig.TraceLevel.DEBUG)}}function E(Y){if(Y){c("#su_host_overlay, #su_host_overlay_top").show()}else{c("#su_host_overlay, #su_host_overlay_top").hide();c("#su_host_overlay").css({filter:"alpha(opacity=50)",opacity:"0.50"});c("#su_host_overlay_top").html("")}}function J(Z,ad){var aa="";var ac=d.getInjectionSettings(Z,"forInput");var ab=d.getInjectionSettings(Z,"MiniDiscovery");var ae=false;if(c(Z).is("input[type=text]")||c(Z).is("input[type=search]")){ae=c(Z).is("#zd_search_md_input");aa=c(Z).val();if(!d.internalConfig.partialyLoaded){c(Z).val("")}}else{if(ac&&c(ac).length>0){aa=c(ac).val();if(!d.internalConfig.partialyLoaded){c(ac).val("")}}}if(ab&&d.injectionSettings.MiniDiscoverySettings&&d.injectionSettings[c(Z).attr("zoomdId")].MiniDiscovery&&!(d.ZdAutoComplete&&d.ZdAutoComplete.getCurrentItem())){if(ad){var af=!(!c(Z).is("input[type=text]")&&!c(Z).is("input[type=search]"));if(af){if((ad.keyCode||ad.which)==13&&!(d.injectionSettings.MiniDiscoverySettings&&d.injectionSettings.MiniDiscoverySettings.AutoComplete)){w(ad,Z,ac,aa);return}}else{if(ad.type=="tap"){w(ad,Z,ac,aa);return}}}if(d.MiniDiscovery){var ag=d.MiniDiscovery.open(ad,Z,ac);if(ag&&(ad.keyCode||ad.which)!=13){return}if(d.MiniDiscovery){d.MiniDiscovery.close()}}}if(d.ZdAutoComplete){var Y=d.ZdAutoComplete.getCurrentItem();if(Y){aa=Y.text();if(ae){c(Z).val(aa)}}}if(d.MiniDiscovery){d.MiniDiscovery.close()}D(aa,Z,ac)}function w(ab,Z,aa,Y){if(d.MiniDiscovery){d.MiniDiscovery.close()}D(Y,Z,aa)}function D(Z,aa,ab,ac){if(d.internalConfig.isWidgetReady||d.internalConfig.partialyLoaded){ac=ac||d.getInjectionSettings(aa,"entryPoint")||"onPageElementTrigger";if(c.isFunction(d.internalConfig.doOpenOrSearch)){d.internalConfig.doOpenOrSearch(Z,ac)}else{if(d.injectionSettings.isMobile){ac="m"+ac;c("#widget_shadow").addClass("zindexcl");c("#widget_outer").addClass("zindexcl");mWidget.openWidget(Z,true,ac)}else{if(d.internalConfig.curState!="opened"&&d.internalConfig.curState!="opening"){if(aa){m(aa,ab)}d.internalConfig.curState="opening";x=true}if(Z){if(ac==="TopSearches"){Z=Z+"^^FTS^^"}f.postMessage("search:"+Z+":"+ac,Zoomd.Widget.SU_BaseUrlServiceHttp)}else{var Y=!aa||d.getInjectionSettings(aa,"trigger")!=="OnHover";f.postMessage((Y?"hoverInWidget":"hoverInWidgetNoFocus")+":"+ac,Zoomd.Widget.SU_BaseUrlServiceHttp)}}}}}function m(Y,Z){var aa=a.getElementOffset(Y,Z);c("#iframe_container").css("margin-left",aa.left-(c(window).width()/2));c("#iframe_container").data("marginLeft-origin",c("#iframe_container").css("margin-left").replace("px",""));c("#iframe_container").css("top",aa.top);c("#iframe_container").css("margin-top",0);c("#iframe_container").data("marginTop-origin",c("#iframe_container").css("margin-top").replace("px",""));g(-1,-1,0)}Zoomd.Widget.OpenOrSearch=function(Y,Z,ac,aa){if(ac&&!aa){aa="TopSearches"}var ab=d.getZoomdMainElement();if(!aa){D(Z,ab)}else{D(Z,ab,null,aa)}};Zoomd.Widget.Search=function(Y){if(d.MiniDiscovery){d.MiniDiscovery.close()}Zoomd.Widget.OpenOrSearch(13,Y)};Zoomd.Widget.Open=Zoomd.Widget.OpenOrSearch;Zoomd.Widget.search=Zoomd.Widget.Search})};